{"version":3,"sources":["pages/Home/Home.module.css","pages/Profile/Profile.module.css","components/Input/Input.module.css","utils/sessionStorageUtils.js","components/ProtectedRouter/index.js","components/ProtectedRouter/ProtectedRouter.jsx","slices/profileSlice/profileSlice.js","slices/profileSlice/index.js","pages/Profile/index.js","pages/Profile/Profile.jsx","components/Input/index.js","components/Input/Input.jsx","hooks/checkFields.js","pages/Home/index.js","pages/Home/Home.jsx","App.js","store/store.js","index.js"],"names":["module","exports","set","key","value","sessionStorage","setItem","JSON","stringify","ProtectedRouter","Component","component","restOfProps","render","props","getItem","parse","to","profileSlice","createSlice","name","initialState","login","password","selectProfile","state","profile","reducer","Profile","useSelector","className","styles","wrapper","Input","restProps","htmlFor","id","label","useCheckFields","expectedResults","useState","fieldValid","setFieldValid","checkFields","e","inputElements","target","form","elements","checkResult","Object","keys","reduce","acc","fieldName","valid","Home","profileInfo","history","useHistory","useEffect","onChange","onSubmit","preventDefault","push","autoComplete","type","placeholder","required","form__input","form__submit","disabled","App","exact","strict","path","store","configureStore","profileReducer","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.db253bb9.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Home_wrapper__3mc3c\",\"form\":\"Home_form__1K5rP\",\"form__label\":\"Home_form__label__3LIHQ\",\"form__input\":\"Home_form__input__3wZUD\",\"form__submit\":\"Home_form__submit__3PhKk\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Profile_wrapper__3daay\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"label\":\"Input_label__22nS2\"};","const set = (key, value) => {\r\n    sessionStorage.setItem(key, JSON.stringify(value));\r\n}\r\n\r\nconst get = (key) => sessionStorage.getItem(key) ? JSON.parse(sessionStorage.getItem(key)) : \"\";\r\n\r\nexport {\r\n    set,\r\n    get\r\n};","import ProtectedRouter from \"./ProtectedRouter.jsx\";\r\nexport default ProtectedRouter;","import { Route, Redirect } from \"react-router-dom\";\r\nimport { get } from \"../../utils/sessionStorageUtils\";\r\nconst ProtectedRouter = ({ component: Component, ...restOfProps }) => {\r\n  return (\r\n    <Route\r\n      {...restOfProps}\r\n      render={(props) =>\r\n        get(\"---authentified---\") ? (\r\n          <Component {...props} />\r\n        ) : (\r\n          <Redirect to=\"/\" />\r\n        )\r\n      }\r\n    ></Route>\r\n  );\r\n};\r\n\r\nexport default ProtectedRouter;\r\n","import {\r\n  createSlice\r\n} from \"@reduxjs/toolkit\";\r\n\r\nconst initialState = {\r\n  value: {\r\n    login: \"developer21\",\r\n    password: \"123456\",\r\n  }\r\n};\r\n\r\nconst profileSlice = createSlice({\r\n  name: \"profile\",\r\n  initialState,\r\n});\r\n\r\nexport const selectProfile = (state) => state.profile.value;\r\nexport default profileSlice.reducer;","import reducer, {\r\n    selectProfile\r\n} from \"./profileSlice.js\";\r\nexport default reducer;\r\nexport {\r\n    selectProfile\r\n};","import Profile from \"./Profile.jsx\";\r\nexport default Profile;","import { useSelector } from \"react-redux\";\r\nimport { selectProfile } from \"../../slices/profileSlice/\";\r\nimport styles from \"./Profile.module.css\";\r\nconst Profile = (props) => {\r\n  const profile = useSelector(selectProfile);\r\n  const { login } = profile;\r\n  return (\r\n    <div className={styles.wrapper}>\r\n      <h1>{login}</h1>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Profile;\r\n","import Input from \"./Input\";\r\nexport default Input;","import styles from \"./Input.module.css\";\r\n\r\nconst Input = ({ ...restProps }) => {\r\n  return (\r\n    <label htmlFor={restProps?.id} className={styles.label}>\r\n      <input {...restProps} />\r\n    </label>\r\n  );\r\n};\r\n\r\nexport default Input;\r\n","import { useState } from \"react\";\r\nconst useCheckFields = (expectedResults) => {\r\n  const [fieldValid, setFieldValid] = useState(false);\r\n  const checkFields = (e) => {\r\n    const inputElements = e.target.form.elements;\r\n    const checkResult = Object.keys(expectedResults).reduce(\r\n      (acc, fieldName) => {\r\n        const valid =\r\n          expectedResults[fieldName] === inputElements[fieldName][\"value\"];\r\n        return acc && valid;\r\n      },\r\n      true\r\n    );\r\n    setFieldValid(() => setFieldValid(checkResult));\r\n  };\r\n  return {\r\n    checkFields,\r\n    fieldValid,\r\n  };\r\n};\r\n\r\nexport default useCheckFields;\r\n","import Home from \"./Home.jsx\";\r\nexport default Home;","import { useEffect } from \"react\";\r\nimport styles from \"./Home.module.css\";\r\nimport { selectProfile } from \"../../slices/profileSlice/\";\r\nimport { useSelector } from \"react-redux\";\r\nimport Input from \"../../components/Input/\";\r\nimport useCheckFields from \"../../hooks/checkFields\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { set } from \"../../utils/sessionStorageUtils\";\r\n\r\nconst Home = (props) => {\r\n  const profileInfo = useSelector(selectProfile);\r\n  const { password, login } = profileInfo;\r\n  const { fieldValid = false, checkFields } = useCheckFields({\r\n    login,\r\n    password,\r\n  });\r\n  const history = useHistory();\r\n  const submit = (e) => {\r\n    e.preventDefault();\r\n    set(\"---authentified---\", true);\r\n    history.push(\"/profile\");\r\n  };\r\n  useEffect(() => {\r\n    set(\"---authentified---\", false);\r\n    return () => {};\r\n  }, []);\r\n  return (\r\n    <div className={styles.wrapper}>\r\n      <form\r\n        className={styles.form}\r\n        onChange={checkFields}\r\n        onSubmit={submit}\r\n        autoComplete=\"off\"\r\n      >\r\n        <Input\r\n          type=\"text\"\r\n          name=\"login\"\r\n          id=\"login\"\r\n          placeholder=\"Логин\"\r\n          required={true}\r\n          className={styles.form__input}\r\n        />\r\n        <Input\r\n          type=\"password\"\r\n          name=\"password\"\r\n          id=\"password\"\r\n          placeholder=\"Пароль\"\r\n          required={true}\r\n          className={styles.form__input}\r\n        />\r\n        <button\r\n          type=\"submit\"\r\n          className={styles.form__submit}\r\n          disabled={!fieldValid}\r\n        >\r\n          Войти\r\n        </button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n","import React from \"react\";\nimport \"./App.css\";\nimport { BrowserRouter, Route, Switch } from \"react-router-dom\";\nimport  ProtectedRouter from \"./components/ProtectedRouter\"; \nimport Profile from \"./pages/Profile\";\nimport Home from \"./pages/Home\";\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <BrowserRouter>\n        <Switch>\n          <Route exact strict path=\"/\" component={Home}></Route>\n          <ProtectedRouter component={Profile} path=\"/profile\" strict exact></ProtectedRouter>\n        </Switch>\n      </BrowserRouter>\n    </div>\n  );\n}\n\nexport default App;\n","import {\n  configureStore\n} from '@reduxjs/toolkit';\nimport profileReducer from \"../slices/profileSlice/\";\n\nexport const store = configureStore({\n  reducer: {\n    profile: profileReducer,\n  },\n});","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { store } from './store/store';\nimport { Provider } from 'react-redux';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}